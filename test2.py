import os
from pymilvus import MilvusClient
from pymilvus import model


# Milvus 세팅
client = MilvusClient("milvus_demo.db")

#스키마 세팅
if client.has_collection(collection_name="demo_collection"):
    client.drop_collection(collection_name="demo_collection")
client.create_collection(
    collection_name="demo_collection",
    dimension=384, 
)

# Huggigface Sentence Transformer - for longer input
sentence_transformer = model.dense.SentenceTransformerEmbeddingFunction(
    model_name='all-MiniLM-L6-v2', 
    device='cpu' 
)
# keywords to store 
# keywords = [
    # "News relevant to Nvidia stock movements"]
        #     "NVIDIA",
        # "AI chip market growth", 
        # "Data center demand",
        # "Gaming industry trends",
        # "GPU supply chain issues",
        # "Autonomous vehicle technology"]

keywords = ["News relevant to Nvidia stock movements", "News relevant to Apple stock movements"]
stock_name = ["NVIDIA", "Apple"]

# Create embeddings
vectors = sentence_transformer.encode_documents(keywords)

# Prepare data for Milvus
data = [
    {"id": i, "vector": vectors[i], "keywords": keywords[i], "ticker": stock_name[i]} 
    for i in range(len(vectors))
]
print("Data has", len(data), "entities, each with fields: ", data[0].keys())
print("Vector dim:", len(data[0]["vector"]))

# Store vectors in Milvus
res = client.insert(collection_name="demo_collection", data=data)
print(res)

# News data for query

# news_queries = [
#     "(Bloomberg) -- Amazon.com Inc. founder Jeff Bezos joined Samsung in a $700 million bet on Tenstorrent, valuing the AI chip startup with ambitions of taking on Nvidia Corp. at about $2.6 billion.\nTenstorrent, which hopes to create a chip to try and break Nvidia's stranglehold on the AI business, raised capital in a funding round led by South Korea's AFW Partners and Samsung Securities, founder and semiconductor pioneer Jim Keller said in an interview. Bezos Expeditions joined LG Electronics Inc. and Fidelity in that financing, betting on Keller's pedigree and the booming opportunity in artificial intelligence tech.\nThe money will be used to build out Tenstorrent's engineering team, invest in its global supply chain and build large artificial intelligence training servers to help demonstrate its technology.\nAs the quest for more power and cost efficiency in AI ramps up, smaller companies are sprouting up trying to snatch market share from Nvidia's power-hungry chips. Tenstorrent, an Nvidia neighbor in Santa Clara, California, is one of many now engineering solutions aimed at delivering a more affordable path to AI development. That's built on open-source and commonplace technology, avoiding complex and pricey components like the high-bandwidth memory Nvidia favors.\n'You can't beat Nvidia if you use HBM, because Nvidia buys the most HBM and has a cost advantage,' Keller said. 'But they'll never be able to bring the price down the way HBM is built into their products and their sockets.'\nNvidia offers developers a full suite of proprietary technology, covering everything from the chips to the interconnects and even data center layouts, with the promise of all parts working better because they were designed in concert. Companies like rival Advanced Micro Devices Inc. and Tenstorrent are instead aiming for greater interoperability with other technology providers, whether through shared industry standards or opening their designs for others to use.\nTenstorrent is also a proponent of an alternative kind of logic processor based on an open standard called RISC-V, which poses a challenge to Arm Holdings Plc. Keller, known for his silicon design work at Apple Inc., Tesla Inc. and AMD, is an advocate.\n'In the past, I worked with proprietary tech and it was really tough,' Keller said. 'Open source helps you build a bigger platform. It attracts engineers. And yes, it's a little bit of a passion project.'\nMuch like RISC-V and Japanese partner Rapidus Corp., Tenstorrent still has a lot to prove. To date, the nascent company has signed contracts with customers totaling nearly $150 million, which pales in comparison to Nvidia's tens of billions of dollars of datacenter revenue each quarter.\nTenstorrent plans to release a new AI processor at a cadence of every two years, Keller said. Nvidia, on the other hand, intends to refresh its AI chip offerings on an annual cycle, its boss Jensen Huang said in June.\nAFW Partners invested after hearing positive feedback from Korean companies already collaborating with Tenstorrent, such as LG, said managing director Bonil Koo.\nTenstorrent's first chips were made by GlobalFoundries Inc., and the next iterations will come from Taiwan Semiconductor Manufacturing Co. and Samsung Electronics Co., the company said. It's begun designing for cutting-edge 2-nanometer fabrication as well. TSMC and Samsung will commence their mass production at that scale next year, and Tenstorrent is in discussions with them and Japan's Rapidus, which aims for 2nm output in 2027.\nOther investors in this funding round include Export Development Canada, Healthcare of Ontario Pension Plan, Hyundai Motor Group and Baillie Gifford.\n©2024 Bloomberg L.P.",

#  "Chris Bulman Inc raised its position in shares of NVIDIA Co. (NASDAQ:NVDA – Free Report) by 6.0% in the third quarter, [HoldingsChannel.com](http://holdingschannel.com/) reports. The firm owned 10,327 shares of the computer hardware maker's stock after buying an additional 588 shares during the period. NVIDIA comprises about 0.9% of Chris Bulman Inc's investment portfolio, making the stock its 29th biggest holding. Chris Bulman Inc's holdings in NVIDIA were worth $1,254,000 as of its most recent SEC filing.\nA number of other institutional investors and hedge funds have also recently added to or reduced their stakes in the company. China Universal Asset Management Co. Ltd. boosted its stake in shares of NVIDIA by 52.2% during the 1st quarter. China Universal Asset Management Co. Ltd. now owns 38,290 shares of the computer hardware maker's stock worth $34,597,000 after acquiring an additional 13,135 shares in the last quarter. Bahl & Gaynor Inc. boosted its stake in shares of NVIDIA by 3.7% during the 1st quarter. Bahl & Gaynor Inc. now owns 4,573 shares of the computer hardware maker's stock worth $4,132,000 after acquiring an additional 163 shares in the last quarter. Spreng Capital Management Inc. boosted its stake in shares of NVIDIA by 19.6% during the 1st quarter. Spreng Capital Management Inc. now owns 4,932 shares of the computer hardware maker's stock worth $4,456,000 after acquiring an additional 807 shares in the last quarter. Penobscot Investment Management Company Inc. boosted its stake in shares of NVIDIA by 6.2% during the 1st quarter. Penobscot Investment Management Company Inc. now owns 47,395 shares of the computer hardware maker's stock worth $42,824,000 after acquiring an additional 2,765 shares in the last quarter. Finally, PAX Financial Group LLC boosted its stake in shares of NVIDIA by 3.6% during the 1st quarter. PAX Financial Group LLC now owns 1,289 shares of the computer hardware maker's stock worth $1,165,000 after acquiring an additional 45 shares in the last quarter. 65.27% of the stock is owned by institutional investors.\nInsider Activity at NVIDIA\nIn related news, CEO Jen Hsun Huang sold 120,000 shares of the business's stock in a transaction dated Tuesday, September 3rd. The stock was sold at an average price of $110.76, for a total transaction of $13,291,200.00. Following the transaction, the chief executive officer now directly owns 76,375,705 shares in the company, valued at $8,459,373,085.80. The trade was a 0.16 % decrease in their ownership of the stock. The sale was disclosed in a legal filing with the SEC, which is available at this link. Also, Director Tench Coxe sold 1,000,000 shares of the business's stock in a transaction dated Thursday, September 19th. The shares were sold at an average price of $119.27, for a total value of $119,270,000.00. Following the transaction, the director now owns 5,852,480 shares in the company, valued at $698,025,289.60. This represents a 14.59 % decrease in their ownership of the stock. The disclosure for this sale can be found here. Insiders have sold 2,036,986 shares of company stock worth $240,602,399 over the last three months. Company insiders own 4.23% of the company's stock.\nNVIDIA Trading Up 2.2 %\nNVIDIA stock opened at $138.25 on Friday. The company has a debt-to-equity ratio of 0.13, a quick ratio of 3.64 and a current ratio of 4.10. The business's 50-day simple moving average is $136.05 and its 200-day simple moving average is $123.90. The firm has a market capitalization of $3.39 trillion, a PE ratio of 54.41, a PEG ratio of 2.45 and a beta of 1.66. NVIDIA Co. has a 52 week low of $45.01 and a 52 week high of $152.89.\nNVIDIA (NASDAQ:NVDA – Get Free Report) last posted its quarterly earnings data on Wednesday, November 20th. The computer hardware maker reported $0.81 EPS for the quarter, topping analysts' consensus estimates of $0.69 by $0.12. The business had revenue of $35.08 billion for the quarter, compared to analyst estimates of $33.15 billion. NVIDIA had a return on equity of 114.83% and a net margin of 55.69%. The firm's revenue for the quarter was up 93.6% on a year-over-year basis. During the same period in the previous year, the company posted $0.38 earnings per share. Equities research analysts forecast that NVIDIA Co. will post 2.76 earnings per share for the current year.\nNVIDIA declared that its Board of Directors has initiated a stock repurchase plan on Wednesday, August 28th that permits the company to buyback $50.00 billion in outstanding shares. This buyback authorization permits the computer hardware maker to repurchase up to 1.6% of its stock through open market purchases. Stock buyback plans are usually a sign that the company's leadership believes its stock is undervalued.\nNVIDIA Announces Dividend\nThe firm also recently disclosed a quarterly dividend, which will be paid on Friday, December 27th. Stockholders of record on Thursday, December 5th will be paid a $0.01 dividend. The ex-dividend date is Thursday, December 5th. This represents a $0.04 dividend on an annualized basis and a dividend yield of 0.03%. NVIDIA's payout ratio is presently 1.57%.\nAnalyst Upgrades and Downgrades\nSeveral equities research analysts have recently weighed in on the company. Cantor Fitzgerald reissued an 'overweight' rating and set a $175.00 price objective on shares of NVIDIA in a research note on Thursday, November 21st. William Blair initiated coverage on NVIDIA in a research report on Wednesday, September 18th. They issued an 'outperform' rating for the company. Melius Research raised their target price on NVIDIA from $165.00 to $185.00 and gave the stock a 'buy' rating in a research report on Monday, November 11th. Loop Capital reaffirmed a 'buy' rating and issued a $175.00 target price on shares of NVIDIA in a research report on Wednesday, November 20th. Finally, Wells Fargo & Company raised their target price on NVIDIA from $165.00 to $185.00 and gave the stock an 'overweight' rating in a research report on Thursday, November 21st. Four equities research analysts have rated the stock with a hold rating, thirty-nine have assigned a buy rating and one has issued a strong buy rating to the company. Based on data from MarketBeat, the stock presently has an average rating of 'Moderate Buy' and a consensus target price of $164.15.\nNVIDIA Company Profile\nFree Report)\nNVIDIA Corporation provides graphics and compute and networking solutions in the United States, Taiwan, China, Hong Kong, and internationally. The Graphics segment offers GeForce GPUs for gaming and PCs, the GeForce NOW game streaming service and related infrastructure, and solutions for gaming platforms; Quadro/NVIDIA RTX GPUs for enterprise workstation graphics; virtual GPU or vGPU software for cloud-based visual and virtual computing; automotive platforms for infotainment systems; and Omniverse software for building and operating metaverse and 3D internet applications.\nFeatured Stories\nWant to see what other hedge funds are holding NVDA? Visit [HoldingsChannel.com](http://holdingschannel.com/) to get the latest 13F filings and insider trades for NVIDIA Co. (NASDAQ:NVDA – Free Report).",

#  "NVIDIA Co. (NASDAQ:NVDA – Get Free Report)'s stock price traded down 1.2% on Thursday after an insider sold shares in the company. The stock traded as low as $131.80 and last traded at $135.34. 225,240,656 shares traded hands during trading, a decline of 43% from the average session volume of 395,069,875 shares. The stock had previously closed at $136.92.\nSpecifically, Director John Dabiri sold 716 shares of the company's stock in a transaction dated Monday, November 25th. The shares were sold at an average price of $142.00, for a total value of $101,672.00. Following the sale, the director now owns 19,942 shares of the company's stock, valued at approximately $2,831,764. This represents a 3.47 % decrease in their position. The transaction was disclosed in a document filed with the Securities & Exchange Commission, which is available through the SEC website.\nAnalysts Set New Price Targets\nSeveral analysts have weighed in on the stock. New Street Research raised shares of NVIDIA from a 'neutral' rating to a 'buy' rating and set a $120.00 price objective on the stock in a research note on Tuesday, August 6th. Loop Capital restated a 'buy' rating and set a $175.00 price target on shares of NVIDIA in a research report on Wednesday, November 20th. Evercore ISI raised their price target on NVIDIA from $189.00 to $190.00 and gave the company an 'outperform' rating in a report on Thursday, November 21st. Benchmark boosted their price objective on NVIDIA from $170.00 to $190.00 and gave the stock a 'buy' rating in a research note on Thursday, November 21st. Finally, Needham & Company LLC increased their target price on NVIDIA from $145.00 to $160.00 and gave the stock a 'buy' rating in a report on Thursday, November 21st. Four investment analysts have rated the stock with a hold rating, thirty-nine have given a buy rating and one has assigned a strong buy rating to the company. According to data from MarketBeat, NVIDIA presently has an average rating of 'Moderate Buy' and an average target price of $164.15.\nView Our Latest Stock Analysis on NVDA\nNVIDIA Stock Performance\nThe company has a debt-to-equity ratio of 0.13, a current ratio of 4.10 and a quick ratio of 3.64. The company has a market cap of $3.39 trillion, a price-to-earnings ratio of 54.41, a price-to-earnings-growth ratio of 2.45 and a beta of 1.66. The stock has a 50-day moving average price of $136.05 and a 200 day moving average price of $123.67.\nNVIDIA (NASDAQ:NVDA – Get Free Report) last announced its earnings results on Wednesday, November 20th. The computer hardware maker reported $0.81 EPS for the quarter, topping the consensus estimate of $0.69 by $0.12. The firm had revenue of $35.08 billion for the quarter, compared to the consensus estimate of $33.15 billion. NVIDIA had a net margin of 55.69% and a return on equity of 114.83%. The business's quarterly revenue was up 93.6% on a year-over-year basis. During the same period last year, the company posted $0.38 EPS. As a group, analysts anticipate that NVIDIA Co. will post 2.76 EPS for the current fiscal year.\nNVIDIA Dividend Announcement\nThe firm also recently declared a quarterly dividend, which will be paid on Friday, December 27th. Shareholders of record on Thursday, December 5th will be paid a $0.01 dividend. The ex-dividend date is Thursday, December 5th. This represents a $0.04 annualized dividend and a yield of 0.03%. NVIDIA's payout ratio is currently 1.57%.\nNVIDIA announced that its board has initiated a stock repurchase program on Wednesday, August 28th that authorizes the company to buyback $50.00 billion in outstanding shares. This buyback authorization authorizes the computer hardware maker to buy up to 1.6% of its stock through open market purchases. Stock buyback programs are typically a sign that the company's board believes its stock is undervalued.\nHedge Funds Weigh In On NVIDIA\nA number of institutional investors have recently added to or reduced their stakes in NVDA. American Trust lifted its stake in NVIDIA by 97.2% in the 3rd quarter. American Trust now owns 58,268 shares of the computer hardware maker's stock valued at $7,076,000 after purchasing an additional 28,719 shares during the last quarter. Asset Advisors Investment Management LLC raised its stake in NVIDIA by 0.4% in the third quarter. Asset Advisors Investment Management LLC now owns 81,453 shares of the computer hardware maker's stock valued at $9,892,000 after buying an additional 343 shares during the period. Tri Ri Asset Management Corp acquired a new stake in shares of NVIDIA in the third quarter valued at approximately $4,975,000. Peapack Gladstone Financial Corp boosted its stake in shares of NVIDIA by 6.8% during the 3rd quarter. Peapack Gladstone Financial Corp now owns 324,348 shares of the computer hardware maker's stock worth $39,388,000 after acquiring an additional 20,540 shares during the period. Finally, Synovus Financial Corp increased its holdings in shares of NVIDIA by 10.3% during the 3rd quarter. Synovus Financial Corp now owns 1,215,693 shares of the computer hardware maker's stock worth $147,635,000 after acquiring an additional 113,296 shares during the last quarter. 65.27% of the stock is currently owned by institutional investors and hedge funds.\nAbout NVIDIA\n\nNVIDIA Corporation provides graphics and compute and networking solutions in the United States, Taiwan, China, Hong Kong, and internationally. The Graphics segment offers GeForce GPUs for gaming and PCs, the GeForce NOW game streaming service and related infrastructure, and solutions for gaming platforms; Quadro/NVIDIA RTX GPUs for enterprise workstation graphics; virtual GPU or vGPU software for cloud-based visual and virtual computing; automotive platforms for infotainment systems; and Omniverse software for building and operating metaverse and 3D internet applications.\nFeatured Articles",

#  "As Black Friday is around the corner, gamers are counting days until they can get significant hands-on discounts on gaming laptops. Being the earliest-than-ever deals that retailers are pushing forward this year, it is indeed a great time to upgrade your gaming rig for less cash to burn.\nHere is an all-inclusive guide to the best gaming laptop deals out this Black Friday season.\nMajor Gaming Laptop Discounts\n1.\nPrice:\nUS$599.99 (originally US$899.99)\nSpecs:\nIntel Core i7-13620H, Nvidia RTX 4050, 16GB RAM, 512GB SSD.\nThis is a thin, entry-level\nfrom MSI that balances performance with portability. It is ideal for gamers who need a reliable machine for gaming and daily tasks. With this deal, one gets considerable savings of US$300, which makes it an attractive buy for budget-conscious gamers.\n2.\nPrice:\nUS$699.99 (originally US$999.99)\nSpecs:\nAMD Ryzen 5 7535HS, Nvidia RTX 4060, 16GB RAM, 512GB SSD.\nThe\nLOQ 15 is yet another mid-range option that has been reduced by US$300. With the mighty Ryzen processor combined with an RTX GPU, this laptop is capable enough to handle the latest games at high settings. The performance-to-price bargain makes it a strong value proposition for gamers.\n3.\nPrice:\nUS$1,000 (originally US$1,299)\nSpecs:\nIntel Core i7-13700HX, Nvidia RTX 4060, 16GB RAM, 1TB SSD.\nThe Acer Predator Helios Neo has been praised for its exemplary performance and great cooling system. The 16-inch model is cut from US$299 but still maintains high-quality graphics and smooth gameplay that doesn't affect the pace of the gaming with overheating problems.\n4.\nPrice\n: US$1,099.99 (originally US$1,499.99)\nSpecs:\nAMD Ryzen 9 8945HS, Nvidia RTX 4070, 16GB RAM, 1TB SSD.\nMSI Katana provides the best performance at a greater value this Black Friday. It has solid components and an incredible discount from US$400 to help serious gamers play the latest titles on high settings without a weak link.\n5.\nPrice\n: US$1,999.99 (Originally US$2,499.99)\nSpecs:\nIntel i9-14900HX, Nvidia RTX 4080, 32GB RAM, 1TB SSD.\nFor gamers who want the best performance, the Acer Predator Helios 18 is now available for under US$2,000. That's quite rare for an RTX 4080-powered laptop. The deal saves you US$500 and provides an exceptional\nwhen paired with the deep screen and very powerful innards.\n6.\nPrice\n: US$2,899.99 (or US$3,799.99)\nSpecs:\nIntel i9-13900HX, Nvidia RTX 4090, 64GB RAM, 2TB SSD.\nThis Black Friday, Alienware M18 R2 will be one of the best high-performance\nin the market, with a whopping US$900 knocked off the price tag, making it deliver unbeatable performance for hardcore gamers as well as content creators.\n7.\nPrice:\nUS$1,249 (originally US$1,599)\nSpecs:\nAMD Ryzen 9 7940HS, Nvidia RTX 4060.\nThis small but powerful gaming\nis perfect for on-the-go gamers. Asus ROG Zephyrus G14 continues to offer high performance with portability and may now be purchased at a discounted rate of US$350 below.\nMore Deals to Look at\nMultiple retailers are offering discounts on gaming laptops\nDell G16-7630:\nThe Intel Core i9 and RTX 4060 processors may now be purchased at a reduced price of US$999.\nGigabyte Aorus X16:\nThe high-end specifications for this gaming laptop are offered at a discount of almost US$400.\nHP Victus:\nStarting at US$658; this is a fantastic budget option with some decent specs.\nWhy Buy During Black Friday?\nBlack Friday is one of the best times to get good deals on high-end gaming laptops for several reasons:\nMassive Discount:\nPopular models are discounted by hundreds and, in many cases, thousands of dollars\nGreat Choices:\nAll the top stores, Best Buy, Newegg, Amazon, Dell, and many more, are offering some kind of discount.\nEarly Deals:\nMany retailers began their sales earlier this year, so there is no need to wait until Black Friday to take advantage of big deals.\nConclusion\nThis Black Friday season will likely be one of the best times to buy a gaming laptop in recent history. There are ample cuts across various brands and models, from budget-friendly to top-of-the-line machines. Gamers have plenty of options that fit their needs and budgets.\nYou can navigate these deals considering which aspects are necessary for your gaming experience, be it graphics power with an RTX GPU or processing speed with the latest AMD or Intel CPUs. Snatch the chance to upgrade your setup before the holiday rush runs out!\nto get the latest news, exclusives and videos on WhatsApp",

# "Source: Getty Images\nSome artificial intelligence (AI) companies have risen to the occasion in 2024, riding the wave of AI innovation and transforming it into impressive financial performance, while others have just been lucky. As the year wraps up, three large-cap AI stocks stand out: Nvidia (NASDAQ:NVDA), Palantir Technologies (NASDAQ:PLTR), and MicroStrategy (NASDAQ:MSTR).\nNVDA data by YCharts\nU.S. technology giants continue to dominate the global AI race, and early investors have reaped massive gains on the big winners in this hot space. However, the top-performing AI stock on the list has rallied on non-AI-related momentum. Let's dive into how the best AI stocks leveraged AI to capture attention (and investors' dollars) this year.\nSemiconductor designer Nvidia continues to experience unbelievably strong revenue, earnings, and cash flow growth rates in 2024, and NVDA stock has soared 173% year-to-date to make the Jensen Huang-led tech giant the largest company in North America with a US$3.5 trillion market capitalization.\nNvidia has booked the most dollar revenue and earnings and generated the most cash flow from pure AI-related products and business lines so far in 2024. Its dominance in AI hardware and software development tools has created what appears like a monopoly in the global AI space.\nThis year, Nvidia smashed records across the board: Revenue growth: 135% year-over-year for the nine months to October 27, 2024, to US$91.2 billion.\nNet income: 190%, with operating margins expanding from 70.9% to 75.8%.\nFree cash flow growth: 187.3% to US$45.2 billion.\nWith its groundbreaking AI accelerators and highly sought 'free' AI software development platform, the company has tripled its revenue, earnings, and cash flow run rates in 2024.\nIn the near term, Nvidia expects to hit US$37.5 billion in revenue this quarter, a 70% year-over-year increase by January 2025. Revenue growth momentum remains strong.\nInvestors who bought in early have seen spectacular returns, but even at current valuations, Nvidia stock remains the gold standard in AI. Nvidia stock's forward price-to-earnings (P/E) multiple of 32.8, and a forward price-earnings-to-growth (PEG) ratio of 0.8 make the AI stock seem undervalued relative to its strong future earnings growth potential.\nUp 284% year-to-date, Palantir Technologies may not have Nvidia's market clout, but its stock performance this year has been nothing short of stellar. Known for its advanced data analytics and 'military-grade' AI platforms, Palantir has seen revenue growth rates accelerate every quarter, from 12.7% in mid-2023 to 30% by September 2024.\nKey highlights: Operating margins doubled year-over-year to 15.6% this year.\nDebt-free balance sheet: A rarity in today's market.\nInclusion in the S&P 500 this year boosted demand as passive funds rushed to buy.\nWhile Palantir's fundamentals shine, the stock's forward price-to-earnings ratio of 138 might give value-conscious investors pause. Still, its momentum and robust financial health make it a compelling long-term play.\nIt's up 515% so far this year, but MicroStrategy stock's AI story is more of a subplot than the main narrative. While the company has enhanced its software offerings with AI capabilities, its true catalyst in 2024 has been Bitcoin. As the largest corporate holder of Bitcoin, MicroStrategy has profited handsomely from the cryptocurrency's meteoric rise to over US$100,000 per coin.\nThe numbers: MicroStrategy held 279,420 BTC by November 11, 2024. The stash was acquired at an average cost of US$42,692 per Bitcoin.\nIts core software business, however, hasn't seen much growth, with revenue declining sequentially from US$499 million in 2022 to $467.2 million over the past 12 months.\nInvestors looking to bet on AI innovation might find MicroStrategy lacking. But if Bitcoin is your game, this stock could be another indirect play.\nThe AI landscape evolves rapidly, and 2025 will undoubtedly bring new contenders to the forefront. For now, Nvidia leads the pack, Palantir impresses with its steady execution, and MicroStrategy stands as a reminder that not all AI stocks are created equal.\nWhether you're chasing growth, value, or speculative thrills, AI offers a little something for every type of investor. As exciting as these AI stock success stories are, due diligence remains key. The future may be AI-powered, but investing success still depends on your ability to separate hype from substance.",

# "ROME, Jan 9 (Reuters) - Italy's government intends to promote tax cuts to help middle income earners this year after focusing initially on people with lower salaries, Prime Minister Giorgia Meloni said on Thursday.\nMeloni's right-wing administration, under pressure to ease the burden on the middle classes, had hoped to ease taxes for those earning 50,000-60,000 euros in its latest budget, but failed to find the financial cover.\n\"This year I think clear attention should be given to the middle classes,\" Meloni told a news conference.",

# "LONDON, Jan 9 (Reuters Breakingviews) - Debt crises don't repeat themselves, but they often rhyme. This week's spike in UK bond yields has drawn comparisons with a similar meltdown in 2022, but there are key differences. Even so, finance minister Rachel Reeves and Bank of England Governor Andrew Bailey cannot afford to ignore it.\nOn some measures, the current debt market turmoil is worse than in September 2022. Yields on 30-year government bonds , or 'gilts', are hovering around 5.4%. That's the highest level since 1998, and they have risen faster than in many other Western countries.\nBut the underlying reasons are different. The 2022 crisis was made in Britain \u2013 sparked by then-Prime Minister Liz Truss's unfunded tax cuts and exacerbated by the blow-up of leveraged funds. This episode has foreign roots, largely a jump in U.S. government bond yields as investors fret at President-elect Donald Trump's fiscal plans.\nAdmittedly, UK pension funds have compounded the problem. UBS research show they have little need for UK bonds because their assets and liabilities are already largely matched. Still, at the height of 'Trussonomics' yields on 10-year gilts were more than 50 basis points higher than corresponding U.S. ones. Today, that spread is around 12 basis points.\nNevertheless, soaring yields highlight three problems for the UK. The first is that rising borrowing costs will wipe out Reeves' room for fiscal manoeuvre. Unless bond markets stage a spectacular U-turn, she will have to curtail public spending or hike taxes later this year to meet her self-imposed fiscal rules. Neither are good political or economic options for an unpopular, opens new tab Labour government.\nThe second issue is structural. Sated UK pension funds will only buy around 15% of the 300-billion-pounds in gilt issuance this fiscal year, according to UBS. That means that yields will have to remain elevated to attract other buyers.\nFinally, unsettled fixed-income markets raise the question of whether the BoE should continue to sell 100 billion pounds a year of bonds it accumulated in previous crises. Slowing down or pausing the Bank's 'quantitative tightening' programme \u2013 an echo of what it did in 2022 - would probably add fuel to the fire. But the pressure to tweak QT will rise if yields stay high \u2013 especially if it emerges that hedge funds or other distressed sellers have blown up in the latest turmoil, or are in the process of doing so.\nThe current crisis is not following Liz Truss's script. But the UK once again needs to pay close attention to jittery bond investors.\nFollow @guerreraf72, opens new tab on X\nCONTEXT NEWS\nBritain's long-term government borrowing costs hit their highest since 1998 on Jan. 7 and Jan. 8.\nThe yield on 30-year British gilts rose sharply this week, outpacing increases for other governments' bonds and hitting its highest since August 1998 at 5.383%. Sterling also fell.\nMarkets are worried about high borrowing and stubborn inflation in Britain and the impact of U.S. President-elect Donald Trump's policies. Thirty-year U.S. bond yields jumped on Jan. 7 to hit their highest in over a year and rose again on Jan. 8.\nFor more insights like these, click here, opens new tab to try Breakingviews for free.",
# ]

news_queries = ["NVIDIA Co. (NASDAQ:NVDA – Get Free Report)'s stock price traded down 1.2% on Thursday after an insider sold shares in the company. The stock traded as low as $131.80 and last traded at $135.34. 225,240,656 shares traded hands during trading, a decline of 43% from the average session volume of 395,069,875 shares. The stock had previously closed at $136.92.\nSpecifically, Director John Dabiri sold 716 shares of the company's stock in a transaction dated Monday, November 25th. The shares were sold at an average price of $142.00, for a total value of $101,672.00. Following the sale, the director now owns 19,942 shares of the company's stock, valued at approximately $2,831,764. This represents a 3.47 % decrease in their position. The transaction was disclosed in a document filed with the Securities & Exchange Commission, which is available through the SEC website.\nAnalysts Set New Price Targets\nSeveral analysts have weighed in on the stock. New Street Research raised shares of NVIDIA from a 'neutral' rating to a 'buy' rating and set a $120.00 price objective on the stock in a research note on Tuesday, August 6th. Loop Capital restated a 'buy' rating and set a $175.00 price target on shares of NVIDIA in a research report on Wednesday, November 20th. Evercore ISI raised their price target on NVIDIA from $189.00 to $190.00 and gave the company an 'outperform' rating in a report on Thursday, November 21st. Benchmark boosted their price objective on NVIDIA from $170.00 to $190.00 and gave the stock a 'buy' rating in a research note on Thursday, November 21st. Finally, Needham & Company LLC increased their target price on NVIDIA from $145.00 to $160.00 and gave the stock a 'buy' rating in a report on Thursday, November 21st. Four investment analysts have rated the stock with a hold rating, thirty-nine have given a buy rating and one has assigned a strong buy rating to the company. According to data from MarketBeat, NVIDIA presently has an average rating of 'Moderate Buy' and an average target price of $164.15.\nView Our Latest Stock Analysis on NVDA\nNVIDIA Stock Performance\nThe company has a debt-to-equity ratio of 0.13, a current ratio of 4.10 and a quick ratio of 3.64. The company has a market cap of $3.39 trillion, a price-to-earnings ratio of 54.41, a price-to-earnings-growth ratio of 2.45 and a beta of 1.66. The stock has a 50-day moving average price of $136.05 and a 200 day moving average price of $123.67.\nNVIDIA (NASDAQ:NVDA – Get Free Report) last announced its earnings results on Wednesday, November 20th. The computer hardware maker reported $0.81 EPS for the quarter, topping the consensus estimate of $0.69 by $0.12. The firm had revenue of $35.08 billion for the quarter, compared to the consensus estimate of $33.15 billion. NVIDIA had a net margin of 55.69% and a return on equity of 114.83%. The business's quarterly revenue was up 93.6% on a year-over-year basis. During the same period last year, the company posted $0.38 EPS. As a group, analysts anticipate that NVIDIA Co. will post 2.76 EPS for the current fiscal year.\nNVIDIA Dividend Announcement\nThe firm also recently declared a quarterly dividend, which will be paid on Friday, December 27th. Shareholders of record on Thursday, December 5th will be paid a $0.01 dividend. The ex-dividend date is Thursday, December 5th. This represents a $0.04 annualized dividend and a yield of 0.03%. NVIDIA's payout ratio is currently 1.57%.\nNVIDIA announced that its board has initiated a stock repurchase program on Wednesday, August 28th that authorizes the company to buyback $50.00 billion in outstanding shares. This buyback authorization authorizes the computer hardware maker to buy up to 1.6% of its stock through open market purchases. Stock buyback programs are typically a sign that the company's board believes its stock is undervalued.\nHedge Funds Weigh In On NVIDIA\nA number of institutional investors have recently added to or reduced their stakes in NVDA. American Trust lifted its stake in NVIDIA by 97.2% in the 3rd quarter. American Trust now owns 58,268 shares of the computer hardware maker's stock valued at $7,076,000 after purchasing an additional 28,719 shares during the last quarter. Asset Advisors Investment Management LLC raised its stake in NVIDIA by 0.4% in the third quarter. Asset Advisors Investment Management LLC now owns 81,453 shares of the computer hardware maker's stock valued at $9,892,000 after buying an additional 343 shares during the period. Tri Ri Asset Management Corp acquired a new stake in shares of NVIDIA in the third quarter valued at approximately $4,975,000. Peapack Gladstone Financial Corp boosted its stake in shares of NVIDIA by 6.8% during the 3rd quarter. Peapack Gladstone Financial Corp now owns 324,348 shares of the computer hardware maker's stock worth $39,388,000 after acquiring an additional 20,540 shares during the period. Finally, Synovus Financial Corp increased its holdings in shares of NVIDIA by 10.3% during the 3rd quarter. Synovus Financial Corp now owns 1,215,693 shares of the computer hardware maker's stock worth $147,635,000 after acquiring an additional 113,296 shares during the last quarter. 65.27% of the stock is currently owned by institutional investors and hedge funds.\nAbout NVIDIA\n\nNVIDIA Corporation provides graphics and compute and networking solutions in the United States, Taiwan, China, Hong Kong, and internationally. The Graphics segment offers GeForce GPUs for gaming and PCs, the GeForce NOW game streaming service and related infrastructure, and solutions for gaming platforms; Quadro/NVIDIA RTX GPUs for enterprise workstation graphics; virtual GPU or vGPU software for cloud-based visual and virtual computing; automotive platforms for infotainment systems; and Omniverse software for building and operating metaverse and 3D internet applications.\nFeatured Articles"]
    
# convert news data to vectors
query_vectors = sentence_transformer.encode_queries(news_queries)

# Semantic search 
res = client.search(
    collection_name="demo_collection",  
    data=query_vectors,  # query vectors
    limit=5, #뉴스당 상위 5개의 관련 키워드 반환
    output_fields=["id", "keywords", "ticker"],  # specifies fields to be returned
)

print("-" * 50) 
print(f"Results for News Article" + news_queries[0].split("\n")[0])  # Print the first line of news article
print("-" * 50) 
print(res)
print("-" * 50)